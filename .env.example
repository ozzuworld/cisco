# CUCM Log Collector - Environment Variables (Example)
# Copy this file to .env and fill in your values for local development

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
LOG_LEVEL=INFO

# Authentication (v0.3) - Optional
# If API_KEY is set, enables bearer token authentication
# If not set or empty, authentication is disabled (dev mode)
API_KEY=

# SFTP Server Settings (where CUCM pushes logs)
# This should be your SFTP server that CUCM can reach
SFTP_HOST=your-sftp-server.example.com
SFTP_PORT=22
SFTP_USERNAME=cucm-collector
SFTP_PASSWORD=your-sftp-password

# BE-017: SFTP_REMOTE_BASE_DIR - Direct artifact storage mapping
#
# RECOMMENDED SETUP (using scripts/install-sftp.sh):
#   - SFTP user is chrooted to backend's storage/received directory
#   - Use EMPTY base dir (backend creates job subdirectories directly)
#   - Backend creates: {job-id}/{node}/ with proper permissions
#   - CUCM uploads to: {job-id}/{node}/
#   - Files land at: storage/received/{job-id}/{node}/
#   - Backend finds artifacts immediately (no transfer needed)
SFTP_REMOTE_BASE_DIR=

# Alternative (if you can't chroot to storage/received):
#   - Use a base directory like "incoming"
#   - You'll need to symlink or mount: /sftp/incoming -> /path/to/storage/received
# SFTP_REMOTE_BASE_DIR=incoming

# Storage Settings
# Local directory where transcripts, jobs, and received artifacts are stored
STORAGE_ROOT=./storage

# Job Execution Settings
MAX_CONCURRENCY_PER_JOB=2
JOB_COMMAND_TIMEOUT_SEC=600
JOB_CONNECT_TIMEOUT_SEC=30

# Profiles
PROFILES_PATH=./profiles.yaml

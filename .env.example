# CUCM Log Collector - Environment Variables (Example)
# Copy this file to .env and fill in your values for local development

# API Settings
API_HOST=0.0.0.0
API_PORT=8000
LOG_LEVEL=INFO

# Authentication (v0.3) - Optional
# If API_KEY is set, enables bearer token authentication
# If not set or empty, authentication is disabled (dev mode)
API_KEY=

# SFTP Server Settings (where CUCM pushes logs)
# This should be your SFTP server that CUCM can reach
SFTP_HOST=your-sftp-server.example.com
SFTP_PORT=22
SFTP_USERNAME=cucm-collector
SFTP_PASSWORD=your-sftp-password

# IMPORTANT: SFTP_REMOTE_BASE_DIR configuration depends on your SFTP server setup
#
# If using CHROOT (recommended, as set up by scripts/install-sftp.sh):
#   - The SFTP user is chrooted to /sftp/cucm-collector (or similar)
#   - Use a RELATIVE path (no leading slash): incoming
#   - Backend creates: incoming/{job-id}/{node}
#   - CUCM sees download directory: incoming/{job-id}/{node}
#   - Real filesystem path: /sftp/cucm-collector/incoming/{job-id}/{node}
SFTP_REMOTE_BASE_DIR=incoming

# If NOT using chroot (less secure):
#   - Use an ABSOLUTE path that the SFTP user can write to
#   - Example: /home/cucm-collector/cucm-logs
#   - Make sure the directory exists and has proper permissions
# SFTP_REMOTE_BASE_DIR=/home/cucm-collector/cucm-logs

# Storage Settings
# Local directory where transcripts, jobs, and received artifacts are stored
STORAGE_ROOT=./storage

# Job Execution Settings
MAX_CONCURRENCY_PER_JOB=2
JOB_COMMAND_TIMEOUT_SEC=600
JOB_CONNECT_TIMEOUT_SEC=30

# Profiles
PROFILES_PATH=./profiles.yaml
